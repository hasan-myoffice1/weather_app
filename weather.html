<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>Weather</title>

    <style>
        img{
            width: 50px;
            height: 50px;
            /* background-color: aliceblue; */
            border-radius: 100%;
            object-fit: cover;
        }

        .weather_div{
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .weather_text{
         font-size: 1.3rem;
         font-weight: 700;
        }
    </style>
</head>
<body>
    
    <div class="container">
        <h1 class="mt-5">Open-Meteo</h1>
        <div class="row mt-4 ">
          <div class="col-md-6 offset-md-3">
            <div class="card">
                <h3 class="card-title text-center">Current Weather</h3>
              <div class="card-body weather_div">
                <img src="" alt="icon" id="condition">
                 <div class="ms-2">
                    <p class="card-text m-0 weather_text"><span id="temperature"></span>Â°C</p>
                    <p class="card-text"><span id="status">Cloudy</span></p>
                 </div>
              </div>
            </div>
          </div>
        </div>
      </div>

       
      <script>
        const url = 'https://api.open-meteo.com/v1/forecast?latitude=36.8878&longitude=22.2332&current=temperature_2m,weather_code';

        const weatherDescriptions = {
        0: 'Clear sky',
        1: 'Mainly clear',
        2: 'partly cloudy',
        3: 'overcast',
        45: 'Fog and depositing rime fog',
        48: 'Fog and depositing rime fog',
        51: 'Drizzle: Light, moderate, and dense intensity',
        53: 'Drizzle: Light, moderate, and dense intensity',
        55: 'Drizzle: Light, moderate, and dense intensity',
        56: 'Freezing Drizzle: Light and dense intensity',
        57: 'Freezing Drizzle: Light and dense intensity',
        61: 'Rain: Slight, moderate and heavy intensity',
        63: 'Rain: Slight, moderate and heavy intensity',
        65: 'Rain: Slight, moderate and heavy intensity',
        66: 'Freezing Rain: Light and heavy intensity',
        67: 'Freezing Rain: Light and heavy intensity',
        71: 'Snow fall: Slight, moderate, and heavy intensity',
        73: 'Snow fall: Slight, moderate, and heavy intensity',
        75: 'Snow fall: Slight, moderate, and heavy intensity',
        77: 'Snow grains',
        80: 'Rain showers: Slight, moderate, and violent',
        81: 'Rain showers: Slight, moderate, and violent',
        82: 'Rain showers: Slight, moderate, and violent',
        85: 'Snow showers slight and heavy',
        86: 'Snow showers slight and heavy',
        95: 'Thunderstorm: Slight or moderate',
        96: 'Thunderstorm with slight and heavy hail',
        99: 'Thunderstorm with slight and heavy hail',
      };

        async function checkWeather(){
           const response = await fetch(url);
           var data = await response.json();

           console.log(data);

           document.getElementById('temperature').textContent = Math.round(data.current.temperature_2m);
           const weatherCode = data.current.weather_code;
           const weatherDescription = weatherDescriptions[weatherCode] || 'Unknown';
           document.getElementById('status').textContent = weatherDescription;
          //  document.getElementById('condition').src = "./New folder/weather02-512.webp";
       
           const iconImage =  document.getElementById('condition');
            
           if(weatherCode == 0 ){
               iconImage.src = "./New folder/sun.png";
           } else if (weatherCode == 1) {
               iconImage.src = "./New folder/sun.png";
           } else if (weatherCode == 2) {
               iconImage.src = "./New folder/cloudy(2).png";
           } else if (weatherCode == 3) {
               iconImage.src = "./New folder/overcast.png";
           }
          

        }
        checkWeather()
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>